{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./skills.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction ViewskillComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ViewskillComponent_tr_12_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const skill_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onOpenModal(skill_r3, \"delete\");\n    });\n    i0.ɵɵelementStart(6, \"i\", 5);\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const skill_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.skillsAvailable[skill_r3.skillId - 1].skill);\n  }\n}\n\nfunction ViewskillComponent_option_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const skillname_r6 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", skillname_r6.skillId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(skillname_r6.skill);\n  }\n}\n\nexport let ViewskillComponent = /*#__PURE__*/(() => {\n  class ViewskillComponent {\n    constructor(skillService) {\n      this.skillService = skillService;\n      this.employeeId = localStorage.getItem(\"employeeId\");\n    }\n\n    ngOnInit() {\n      this.skillService.getSkillsByEmpId().subscribe(data => {\n        this.skills = data;\n      });\n      this.skillService.getAllSkills().subscribe(data => {\n        this.skillsAvailable = data;\n      });\n    }\n\n    getSkillsByEmpId() {\n      this.skillService.getSkillsByEmpId().subscribe(response => {\n        this.skills = response;\n        console.log(this.skills);\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    getAllSkills() {\n      this.skillService.getAllSkills().subscribe(response => {\n        this.skillsAvailable = response;\n        console.log(this.skillsAvailable);\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    onAddSkill(addSkillForm) {\n      var _a;\n\n      (_a = document.getElementById('add-employee-form')) === null || _a === void 0 ? void 0 : _a.click(); // console.log(addSkillForm.value);\n\n      this.skillService.addSkill(addSkillForm.value).subscribe(response => {\n        console.log(response);\n        this.getSkillsByEmpId();\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    onDeleteSkill(id) {\n      this.skillService.deleteSkill(id).subscribe(response => {\n        console.log(response);\n        this.getSkillsByEmpId();\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    onOpenModal(skill, mode) {\n      const container = document.getElementById('main-container');\n      const button = document.createElement('button');\n      button.type = \"button\";\n      button.style.display = 'none';\n      button.setAttribute('data-toggle', 'modal');\n\n      if (mode === 'add') {\n        button.setAttribute('data-target', '#addSkillModal');\n      }\n\n      if (mode === 'delete') {\n        this.deleteSkill = skill;\n        button.setAttribute('data-target', '#deleteSkillModal');\n      }\n\n      container === null || container === void 0 ? void 0 : container.appendChild(button);\n      button.click();\n    }\n\n  }\n\n  ViewskillComponent.ɵfac = function ViewskillComponent_Factory(t) {\n    return new (t || ViewskillComponent)(i0.ɵɵdirectiveInject(i1.SkillsService));\n  };\n\n  ViewskillComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewskillComponent,\n    selectors: [[\"app-viewskill\"]],\n    decls: 54,\n    vars: 5,\n    consts: [[\"id\", \"main-container\", 1, \"container\"], [1, \"card\"], [1, \"card-body\"], [1, \"float-right\", \"btn-group\", \"btn-group-sm\"], [\"data-placement\", \"top\", \"data-toggle\", \"modal\", \"data-original-title\", \"Add\", \"data-target\", \"#addSkillModal\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"tooltips\", 3, \"click\"], [1, \"fa\", \"fa-times\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"addSkillModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"addSkillModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"addSkillModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [\"addSkillForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"emp_id\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"employeeId\", \"id\", \"emp_id\", \"required\", \"\", 1, \"form-control\", 3, \"placeholder\"], [\"for\", \"skillId\"], [\"ngModel\", \"\", \"name\", \"skillId\", \"required\", \"\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"id\", \"deleteSkillModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"deleteModelLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"deleteModelLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"data-placement\", \"top\", \"data-toggle\", \"modal\", \"datat-target\", \"#deleteSkillModal\", \"data-original-title\", \"Delete\", \"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"tooltips\", 3, \"click\"], [3, \"value\"]],\n    template: function ViewskillComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r7 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function ViewskillComponent_Template_button_click_4_listener() {\n          return ctx.onOpenModal(ctx.skill, \"add\");\n        });\n        i0.ɵɵelementStart(5, \"i\", 5);\n        i0.ɵɵtext(6, \"Add Skill\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"table\", 6)(8, \"thead\")(9, \"th\");\n        i0.ɵɵtext(10, \"SkillName\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"tbody\");\n        i0.ɵɵtemplate(12, ViewskillComponent_tr_12_Template, 8, 1, \"tr\", 7);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(13, \"div\", 8)(14, \"div\", 9)(15, \"div\", 10)(16, \"div\", 11)(17, \"h5\", 12);\n        i0.ɵɵtext(18, \"Add Skill\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 13)(20, \"span\", 14);\n        i0.ɵɵtext(21, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"div\", 15)(23, \"form\", 16, 17);\n        i0.ɵɵlistener(\"ngSubmit\", function ViewskillComponent_Template_form_ngSubmit_23_listener() {\n          i0.ɵɵrestoreView(_r7);\n\n          const _r1 = i0.ɵɵreference(24);\n\n          return ctx.onAddSkill(_r1);\n        });\n        i0.ɵɵelementStart(25, \"div\", 18)(26, \"label\", 19);\n        i0.ɵɵtext(27, \"employeeId\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 18)(30, \"label\", 21);\n        i0.ɵɵtext(31, \"skillName\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"select\", 22);\n        i0.ɵɵtemplate(33, ViewskillComponent_option_33_Template, 2, 2, \"option\", 23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"div\", 24)(35, \"button\", 25);\n        i0.ɵɵtext(36, \"Save changes\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(37, \"div\", 26)(38, \"div\", 9)(39, \"div\", 10)(40, \"div\", 11)(41, \"h5\", 27);\n        i0.ɵɵtext(42, \"Delete Employee\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"button\", 13)(44, \"span\", 14);\n        i0.ɵɵtext(45, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(46, \"div\", 15)(47, \"p\");\n        i0.ɵɵtext(48);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 24)(50, \"button\", 28);\n        i0.ɵɵtext(51, \"No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"button\", 29);\n        i0.ɵɵlistener(\"click\", function ViewskillComponent_Template_button_click_52_listener() {\n          return ctx.onDeleteSkill(ctx.deleteSkill == null ? null : ctx.deleteSkill.id);\n        });\n        i0.ɵɵtext(53, \"Yes\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(24);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.skills);\n        i0.ɵɵadvance(16);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.employeeId);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.skillsAvailable);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", _r1.invalid);\n        i0.ɵɵadvance(13);\n        i0.ɵɵtextInterpolate1(\"Are you sure you want to delete this skill \", ctx.deleteSkill == null ? null : ctx.deleteSkill.skillName, \"?\");\n      }\n    },\n    directives: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.RequiredValidator, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption],\n    styles: [\"\"]\n  });\n  return ViewskillComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}