{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core'; // import { AvailableSlotsWithSkill } from 'src/app/utility/AvailableSlotsWithSkill';\n// import { runInThisContext } from 'vm';\n\nlet AvailableSlotsComponent = class AvailableSlotsComponent {\n  constructor(slotsService, snackBar, skillService) {\n    this.slotsService = slotsService;\n    this.snackBar = snackBar;\n    this.skillService = skillService;\n    this.selectedSlots = [];\n    this.allData = [];\n    this.empSkillMapper = [];\n    this.p = 1;\n  }\n\n  ngOnInit() {\n    this.getSlots();\n    this.getSkills();\n  }\n\n  getSkills() {\n    this.skillService.getAllSkills().subscribe(data => {\n      this.AllSkills = data;\n      console.log(this.AllSkills);\n      this.skillMapper = new Map();\n\n      for (let k = 0; k < this.AllSkills.length; k++) {\n        this.skillMapper.set(this.AllSkills[k].skillId, this.AllSkills[k].skill);\n      }\n\n      this.getAllSkills();\n    });\n  }\n\n  getAllSkills() {\n    this.skillService.getAllData().subscribe(data => {\n      this.skilling = data;\n      console.log(this.skilling[0][\"employeeId\"]);\n\n      for (let m = 0; m < this.skilling.length; m++) {\n        const emplObj = {\n          \"employeeId\": this.skilling[m][\"employeeId\"],\n          \"skill\": this.skillMapper.get(this.skilling[m][\"skillId\"])\n        };\n        this.empSkillMapper.push(emplObj);\n      }\n\n      console.log(this.empSkillMapper);\n    });\n  }\n\n  getSlots() {\n    return this.slotsService.allSlots().subscribe(data => {\n      this.allData = data;\n\n      for (let i = 0; i < this.allData.length; i++) {// this.skillService.getSkillsbyEmpId(this.allData[i].employeeId).subscribe(data=>{\n        //   this.skills = data;\n        //   }) \n      }\n\n      this.slots = this.allData; // return this.slotsService.allSlots().subscribe(data=>{\n      //   this.slots=data;\n      // })\n    });\n  }\n\n  getEmployeeName(name) {\n    this.employeeName = name;\n    console.log(name);\n  }\n\n  getEmployee() {\n    if (this.employeeName != null && this.employeeName != '') {\n      for (var slot of this.allData) {\n        if (slot.name.toLowerCase() === this.employeeName.toLowerCase()) {\n          console.log(slot.name);\n          this.selectedSlots.push(slot);\n        }\n      }\n\n      console.log(this.selectedSlots);\n\n      if (this.selectedSlots.length > 0) {\n        this.slots = this.selectedSlots;\n        this.selectedSlots = [];\n      } else {\n        this.openSnackBar(\"No Records Found\", \"act\");\n      }\n    }\n  }\n\n  openSnackBar(message, action) {\n    this.snackBar.open(message, action, {\n      duration: 2000\n    });\n  }\n\n};\nAvailableSlotsComponent = __decorate([Component({\n  selector: 'app-available-slots',\n  templateUrl: './available-slots.component.html',\n  styleUrls: ['./available-slots.component.scss']\n})], AvailableSlotsComponent);\nexport { AvailableSlotsComponent };","map":null,"metadata":{},"sourceType":"module"}