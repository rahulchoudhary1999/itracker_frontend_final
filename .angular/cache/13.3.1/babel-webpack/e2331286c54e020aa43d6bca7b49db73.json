{"ast":null,"code":"import { isPlatformBrowser, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { PLATFORM_ID, Injectable, Inject, Pipe, NgModule } from '@angular/core';\nlet NgxMailtoService = /*#__PURE__*/(() => {\n  class NgxMailtoService {\n    // tslint:disable-next-line:ban-types\n    constructor(platformId) {\n      this.platformId = platformId;\n    }\n\n    isClientSide() {\n      return isPlatformBrowser(this.platformId);\n    }\n\n    compose(value) {\n      console.log('compose -->', value);\n      let link = 'mailto:';\n\n      if (!value) {\n        return link;\n      }\n\n      const properties = [];\n\n      if (this.isClientSide()) {\n        if (value === null || value === void 0 ? void 0 : value.receiver) {\n          if (typeof (value === null || value === void 0 ? void 0 : value.receiver) === 'string') {\n            link += value === null || value === void 0 ? void 0 : value.receiver;\n          } else {\n            link += value === null || value === void 0 ? void 0 : value.receiver.join();\n          }\n        }\n\n        if (value === null || value === void 0 ? void 0 : value.cc) {\n          if (typeof (value === null || value === void 0 ? void 0 : value.cc) === 'string') {\n            // link += `?cc=${value?.cc}`;\n            properties.push(`cc=${value === null || value === void 0 ? void 0 : value.cc}`);\n          } else {\n            // link += `?cc=${value?.cc.join()}`;\n            properties.push(`cc=${value === null || value === void 0 ? void 0 : value.cc.join()}`);\n          }\n        }\n\n        if (value === null || value === void 0 ? void 0 : value.bcc) {\n          if (typeof (value === null || value === void 0 ? void 0 : value.bcc) === 'string') {\n            // link += `?bcc=${value?.bcc}`;\n            properties.push(`bcc=${value === null || value === void 0 ? void 0 : value.bcc}`);\n          } else {\n            // link += `?bcc=${value?.bcc.join()}`;\n            properties.push(`bcc=${value === null || value === void 0 ? void 0 : value.bcc.join()}`);\n          }\n        }\n\n        if (value === null || value === void 0 ? void 0 : value.subject) {\n          // link += `?subject=${value?.subject}`;\n          properties.push(`subject=${encodeURIComponent(value === null || value === void 0 ? void 0 : value.subject)}`);\n        }\n\n        if (value === null || value === void 0 ? void 0 : value.body) {\n          // link += `?body=${value?.body}`;\n          properties.push(`body=${encodeURIComponent(value === null || value === void 0 ? void 0 : value.body)}`);\n        }\n\n        if (properties.length > 0) {\n          link += `?${properties.join('&')}`;\n        }\n\n        return link;\n      }\n    }\n\n    open(mailto) {\n      if (this.isClientSide()) {\n        window.location.href = this.compose(mailto);\n      }\n    }\n\n  }\n\n  NgxMailtoService.ɵfac = function NgxMailtoService_Factory(t) {\n    return new (t || NgxMailtoService)(i0.ɵɵinject(PLATFORM_ID));\n  };\n\n  NgxMailtoService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NgxMailtoService,\n    factory: NgxMailtoService.ɵfac,\n    providedIn: 'root'\n  });\n  return NgxMailtoService;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet NgxMailtoPipe = /*#__PURE__*/(() => {\n  class NgxMailtoPipe {\n    constructor(ngxMailtoService) {\n      this.ngxMailtoService = ngxMailtoService;\n    }\n\n    transform(value) {\n      console.log('transform', value);\n      return this.ngxMailtoService.compose(value);\n    }\n\n  }\n\n  NgxMailtoPipe.ɵfac = function NgxMailtoPipe_Factory(t) {\n    return new (t || NgxMailtoPipe)(i0.ɵɵdirectiveInject(NgxMailtoService, 16));\n  };\n\n  NgxMailtoPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"mailto\",\n    type: NgxMailtoPipe,\n    pure: true\n  });\n  return NgxMailtoPipe;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet NgxMailtoModule = /*#__PURE__*/(() => {\n  class NgxMailtoModule {}\n\n  NgxMailtoModule.ɵfac = function NgxMailtoModule_Factory(t) {\n    return new (t || NgxMailtoModule)();\n  };\n\n  NgxMailtoModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NgxMailtoModule\n  });\n  NgxMailtoModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return NgxMailtoModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/*\n * Public API Surface of ngx-mailto\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NgxMailtoModule, NgxMailtoPipe, NgxMailtoService }; //# sourceMappingURL=ngx-mailto.mjs.map","map":null,"metadata":{},"sourceType":"module"}